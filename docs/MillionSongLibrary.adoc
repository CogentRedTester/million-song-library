Kenzan Million Song Library Demonstration
=========================================
Bill Schwanitz <bschwanitz@kenzan.com>
:Author Initials: WES
:toc!:
:icons:
:numbered:
:website: http://kenzan.com/

*Table of Contents*
[upperroman]
. General Information
. link:Client.adoc[Client/UI]
. link:Server.adoc[Server]
. link:Database.adoc[Database]

'''

Introduction
------------
Some marketing-ish description of what MSL is and why Kenzan is working on it

GitHub Repositories
-------------------
The artifacts for this open source project are available from GitHub (http://github.com/kenzanmedia/million-song-library). This is the master repository for all the available artifacts. This master repo refers to most of its artifacts via multiple sub-repositories (git submodules) - one for each service, configuration, and UI service. Subdividing the repositories this way allows for easy configuration of our continuous integration (CI) jobs, while at the same time the master repository makes for easy retrieval of the entire project.

.Directory and Repository Diagram
image:images/architecture/Directory and Repo Diagram.png[Directory and Repository Diagram]

Tools
-----

Swagger API Documentation and Code Generation 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
The Swagger open-source tool (http://github.com/swagger-api) allows the team to unify the documentation of the API with the generation of client and server code. This assures that the documentation is always in sync with the code. Further, it allows the team to
publish the documentation in various formats.

We specify the API methods and models in multiple YAML files (https://en.wikipedia.org/wiki/YAML) then combine them as necessary:

* A single file named definitions.yaml that declares all the objects that will be passed into and out of the APIs.
* Each microservice has a paths.yaml that declares the API methods for that microservice.
* Each microservice has an index.yaml that uses $ref commands to combine select other YAML files to completely define the API for that microservice.
* A single index.yaml that combines all the API methods and models into a single artifact that is used to generate documentation of all the API methods in all the microservices. For example: link:swagger/index.html[this HTML representation].

For generating documentation and server-side code stubs, we first use JavaScript to resolve the $ref commands (resolve.js) and output the final YAML files. These final YAML files are then sent through the swagger-client-cli to build the server-side code stubs and the HTML API documentation. 

AsciiDoc Documentation
~~~~~~~~~~~~~~~~~~~~~~
The AsciiDoc open-source tool (http://asciidoc.org/) allows the team to produce documentation that can then be formatted and published in a variety of formats. 
